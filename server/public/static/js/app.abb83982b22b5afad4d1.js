webpackJsonp([1],{"08SB":function(t,s){},"1AR6":function(t,s){},"1chq":function(t,s){},"3TVC":function(t,s){},"5XqW":function(t,s){},"6gMh":function(t,s){},"7oPY":function(t,s){},FIer:function(t,s){},H8sA:function(t,s){},I4af:function(t,s){},J7BS:function(t,s){},NHnr:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i={};e.d(i,"selectPlay",function(){return ws}),e.d(i,"randomPlay",function(){return ks});var n={};e.d(n,"playing",function(){return Ls}),e.d(n,"fullScreen",function(){return Ss}),e.d(n,"playlist",function(){return Us}),e.d(n,"sequenceList",function(){return bs}),e.d(n,"mode",function(){return Es}),e.d(n,"currentIndex",function(){return xs}),e.d(n,"currentSong",function(){return Rs}),e.d(n,"showSearchRes",function(){return Ts});var a=e("7+uW"),r=e("Dd8w"),o=e.n(r),c=e("NYxO"),l={name:"ProgressBar",props:{percent:{type:Number,default:0}},data:function(){return{touch:{}}},methods:{_offset:function(t){this.$refs.progress.style.width=t+"px",this.$refs.progressBtn.style.left=t+"px"},handleClick:function(t){this._offset(t.offsetX),this._triggerPercent()},handleTouchStart:function(t){this.touch.initiated=!0,this.touch.startX=t.touches[0].pageX,this.touch.left=this.$refs.progress.clientWidth},handleTouchMove:function(t){if(this.touch.initiated){var s=t.touches[0].pageX-this.touch.startX,e=Math.min(this.$refs.progressBar.clientWidth-.3*document.documentElement.style.fontSize.replace("px",""),Math.max(0,this.touch.left+s));this._offset(e)}},handleTouchEnd:function(){this.touch.initiated=!1,this._triggerPercent()},_triggerPercent:function(){var t=this.$refs.progressBar.clientWidth-.3*document.documentElement.style.fontSize.replace("px",""),s=this.$refs.progress.clientWidth/t;this.$emit("percentChange",s)}},watch:{percent:function(t){if(!(t>1)&&t>=0&&!this.touch.initiated){var s=t*(this.$refs.progressBar.clientWidth-.3*document.documentElement.style.fontSize.replace("px",""));this._offset(s)}}}},u={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{ref:"progressBar",staticClass:"progress-bar",on:{click:t.handleClick}},[e("div",{staticClass:"bar-inner"},[e("div",{ref:"progress",staticClass:"progress"}),t._v(" "),e("div",{ref:"progressBtn",staticClass:"progress-btn",on:{touchstart:function(s){return s.preventDefault(),t.handleTouchStart(s)},touchmove:function(s){return s.preventDefault(),t.handleTouchMove(s)},touchend:t.handleTouchEnd}})])])},staticRenderFns:[]};var h=e("VU/8")(l,u,!1,function(t){e("3TVC")},"data-v-bc988e0a",null).exports,d=0,v=1,f=2,m=1,p=100,g=1e3,A={HuaMan:1001,HuaWoman:1002,HuaGroup:1003,UAMan:2001,UAWoman:2002,UAGroup:2003,JapanMan:6001,JapanWoman:6002,JapanGroup:6003,KoreanMan:7001,KoreanWoman:7002,KoreanGroup:7003,OtherMan:4001,OtherWoman:4002,OtherGroup:4003};function _(t){return t+0<1e5?Math.floor(t):Math.floor(t/1e4)+"万"}function C(t){for(var s,e,i=t.slice(),n=0;n<i.length;n++){var a=(s=0,e=n,Math.floor(Math.random()*(e-s+1)+s)),r=i[n];i[n]=i[a],i[a]=r}return i}var y=e("GQaK"),w={props:{probeType:{type:Number,default:1},click:{type:Boolean,default:!0},scrollX:{type:Boolean,default:!1},listenScroll:{type:Boolean,default:!1},data:{type:Array,default:null},pullup:{type:Boolean,default:!1},pulldown:{type:Boolean,default:!1},beforeScroll:{type:Boolean,default:!1},refreshDelay:{type:Number,default:20}},mounted:function(){var t=this;setTimeout(function(){t._initScroll()},20)},methods:{_initScroll:function(){var t=this;this.$refs.wrapper&&(this.scroll=new y.a(this.$refs.wrapper,{probeType:this.probeType,click:this.click,scrollX:this.scrollX}),this.listenScroll&&this.scroll.on("scroll",function(s){t.$emit("scroll",s)}),this.pullup&&this.scroll.on("scrollEnd",function(){t.scroll.y<=t.scroll.maxScrollY+60&&t.$emit("scrollToEnd")}),this.pulldown&&this.scroll.on("touchend",function(s){s.y>50&&t.$emit("pulldown")}),this.beforeScroll&&this.scroll.on("beforeScrollStart",function(){t.$emit("beforeScroll")}))},disable:function(){this.scroll&&this.scroll.disable()},enable:function(){this.scroll&&this.scroll.enable()},refresh:function(){this.scroll&&this.scroll.refresh()},scrollTo:function(){this.scroll&&this.scroll.scrollTo.apply(this.scroll,arguments)},scrollToElement:function(){this.scroll&&this.scroll.scrollToElement.apply(this.scroll,arguments)}},watch:{data:function(){var t=this;setTimeout(function(){t.refresh()},this.refreshDelay)}}},k={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{ref:"wrapper"},[this._t("default")],2)},staticRenderFns:[]};var L=e("VU/8")(w,k,!1,function(t){e("PsNh")},"data-v-2544859a",null).exports,S=e("Zrlr"),U=e.n(S),b=e("wxAW"),E=e.n(b),x=/\[(\d{2,}):(\d{2})(?:\.(\d{2,3}))?]/g,R=0,T={title:"ti",artist:"ar",album:"al",offset:"offset",by:"by"};function B(){}var M=function(){function t(s){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:B;U()(this,t),this.lrc=s,this.tags={},this.lines=[],this.handler=e,this.state=R,this.curLine=0,this._init()}return E()(t,[{key:"_init",value:function(){this._initTag(),this._initLines()}},{key:"_initTag",value:function(){for(var t in T){var s=this.lrc.match(new RegExp("\\["+T[t]+":([^\\]]*)]","i"));this.tags[t]=s?s[1]:""}}},{key:"_initLines",value:function(){for(var t=this.lrc.split("\n"),s=0;s<t.length;s++){var e=t[s],i=x.exec(e);if(i){var n=e.replace(x,"").trim();n&&this.lines.push({time:60*i[1]*1e3+1e3*i[2]+1*i[3],txt:n})}}this.lines.sort(function(t,s){return t.time-s.time})}},{key:"_findCurNum",value:function(t){for(var s=0;s<this.lines.length;s++)if(t<=this.lines[s].time)return s;return this.lines.length-1}},{key:"_callHandler",value:function(t){t<0||this.handler({txt:this.lines[t].txt,lineNum:t})}},{key:"_playRest",value:function(){var t=this,s=this.lines[this.curNum].time-(+new Date-this.startStamp);this.timer=setTimeout(function(){t._callHandler(t.curNum++),t.curNum<t.lines.length&&1===t.state&&t._playRest()},s)}},{key:"play",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,s=arguments[1];this.lines.length&&(this.state=1,this.curNum=this._findCurNum(t),this.startStamp=+new Date-t,s||this._callHandler(this.curNum-1),this.curNum<this.lines.length&&(clearTimeout(this.timer),this._playRest()))}},{key:"togglePlay",value:function(){var t=+new Date;1===this.state?(this.stop(),this.pauseStamp=t):(this.state=1,this.play((this.pauseStamp||t)-(this.startStamp||t),!0),this.pauseStamp=0)}},{key:"stop",value:function(){this.state=R,clearTimeout(this.timer)}},{key:"seek",value:function(t){this.play(t)}}]),t}(),D={name:"Player",components:{ProgressBar:h,scroll:L},data:function(){return{songReady:!1,currentTime:0,showLyric:!1,currentLyric:null,currentLineNum:0,playingLyric:""}},computed:o()({cdCls:function(){return this.playing?"play":"play pause"},playIcon:function(){return this.playing?"&#xe60b;":"&#xe9d8;"},playMode:function(){return this.mode===d?"&#xe609;":this.mode===v?"&#xe607;":"&#xe67c;"},percent:function(){return this.currentTime/(this.currentSong.duration/1e3)}},Object(c.c)(["fullScreen","playlist","currentSong","playing","currentIndex","mode","sequenceList"])),methods:o()({turnToComment:function(){this.$router.push({path:"/comment/music/"+this.currentSong.id,query:{name:this.currentSong.name,singer:this.currentSong.singers,picUrl:this.currentSong.picUrl}})},ready:function(){this.songReady=!0},error:function(){this.songReady=!0},back:function(){this.setFullScreen(!1)},open:function(){this.setFullScreen(!0)},end:function(){this.mode===v?this.loop():this.next()},loop:function(){this.$refs.audio.currentTime=0,this.$refs.audio.play(),this.currentLyric&&this.currentLyric.seek(0)},togglePlaying:function(){this.songReady&&(this.setPlayingState(!this.playing),this.currentLyric&&this.currentLyric.togglePlay())},toggleShow:function(){var t=this;this.showLyric=!this.showLyric,this.showLyric&&setTimeout(function(){t.$refs.lyricList.refresh()},20)},prev:function(){if(this.songReady)if(1===this.playing.length)this.loop();else{var t=this.currentIndex-1;-1===t&&(t=this.playlist.length-1),this.setCurrentIndex(t),this.playing||this.togglePlaying(),this.songReady=!1}},next:function(){if(this.songReady)if(1===this.playlist.length)this.loop();else{var t=this.currentIndex+1;t===this.playlist.length&&(t=0),this.setCurrentIndex(t),this.playing||this.togglePlaying(),this.songReady=!1}},updateTime:function(t){this.currentTime=t.target.currentTime},changeMode:function(){var t=(this.mode+1)%3;this.setPlayMode(t);var s=null;s=t===f?C(this.sequenceList):this.sequenceList,this.resetCurrentIndex(s),this.setPlaylist(s)},resetCurrentIndex:function(t){var s=this,e=t.findIndex(function(t){return t.id===s.currentSong.id});this.setCurrentIndex(e)},onProgressPercentChange:function(t){this.$refs.audio.currentTime=this.currentSong.duration/1e3*t,this.playing||this.togglePlaying(),this.currentLyric&&this.currentLyric.seek(this.currentSong.duration*t)},format:function(t){return t=Math.floor(t),Math.floor(t/60)+":"+this._pad(t%60)},_pad:function(t){for(var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,e=t.toString().length;e<s;)t="0"+t,e++;return t},getLyric:function(){var t=this;this.currentSong.getLyric().then(function(s){s&&(t.currentLyric=new M(s,t.handleLyric)),t.playing&&t.currentLyric.play()}).catch(function(){t.currentLyric=null,t.playingLyric="",t.currentLineNum=0})},handleLyric:function(t){var s=t.lineNum,e=t.txt;if(this.currentLineNum=s,s>5){var i=this.$refs.lyricLine[s-5];this.$refs.lyricList.scrollToElement(i,1e3)}else this.$refs.lyricList.scrollTo(0,0,1e3);this.playingLyric=e}},Object(c.d)({setFullScreen:"SET_FULL_SCREEN",setPlayingState:"SET_PLAYING_STATE",setCurrentIndex:"SET_CURRENT_INDEX",setPlayMode:"SET_PLAY_MODE",setPlaylist:"SET_PLAYLIST"})),watch:{currentSong:function(t,s){if(t.id!==s.id){this.currentLyric&&this.currentLyric.stop();var e=this.$refs.audio;this.$nextTick(function(){e.play()}),this.getLyric(),t.getCommentCount()}},playing:function(t){var s=this.$refs.audio;this.$nextTick(function(){t?s.play():s.pause()})}}},N={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{directives:[{name:"show",rawName:"v-show",value:t.playlist.length>0,expression:"playlist.length > 0"}],ref:"player",staticClass:"player"},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.fullScreen,expression:"fullScreen"}],staticClass:"normal-player"},[e("div",{staticClass:"background"},[e("img",{attrs:{width:"100%",height:"100%",src:t.currentSong.picUrl}})]),t._v(" "),e("div",{staticClass:"header"},[e("div",{staticClass:"iconfont back-icon",on:{click:t.back}},[t._v("")]),t._v(" "),e("div",{staticClass:"desc"},[e("div",{staticClass:"name"},[t._v(t._s(t.currentSong.name))]),t._v(" "),e("div",{staticClass:"singer"},[t._v(t._s(t.currentSong.singers)),e("span",{staticClass:"iconfont"},[t._v("")])])])]),t._v(" "),e("div",{staticClass:"middle",on:{click:t.toggleShow}},[e("div",{directives:[{name:"show",rawName:"v-show",value:!t.showLyric,expression:"!showLyric"}],ref:"middleL",staticClass:"middle-l"},[e("div",{ref:"cdWrapper",staticClass:"cd-wrapper"},[e("div",{staticClass:"cd",class:t.cdCls},[e("img",{staticClass:"image",attrs:{src:t.currentSong.picUrl}})])]),t._v(" "),e("div",{staticClass:"playing-lyric-wrapper"},[e("div",{staticClass:"playing-lyric"},[t._v(t._s(t.playingLyric))])])]),t._v(" "),e("scroll",{directives:[{name:"show",rawName:"v-show",value:t.showLyric,expression:"showLyric"}],ref:"lyricList",staticClass:"middle-r",attrs:{data:t.currentLyric&&t.currentLyric.lines}},[e("div",[t.currentLyric&&t.currentLyric.lines?e("div",{staticClass:"lyric-wrapper"},t._l(t.currentLyric.lines,function(s,i){return e("p",{key:i,ref:"lyricLine",refInFor:!0,staticClass:"text",class:{current:t.currentLineNum===i}},[t._v(t._s(s.txt))])})):t._e()])])],1),t._v(" "),e("div",{staticClass:"bottom"},[e("div",{directives:[{name:"show",rawName:"v-show",value:!t.showLyric,expression:"!showLyric"}],staticClass:"icon-wrapper"},[e("div",{staticClass:"iconfont"},[t._v("")]),t._v(" "),e("div",{staticClass:"iconfont comment",on:{click:t.turnToComment}},[t._v("\n          \n          "),e("span",{staticClass:"comment-count"},[t._v(t._s(t.currentSong.commentCount||0))])]),t._v(" "),e("div",{staticClass:"iconfont three"},[t._v("")])]),t._v(" "),e("div",{staticClass:"progress-wrapper"},[e("span",{staticClass:"time time-l"},[t._v(t._s(t.format(t.currentTime)))]),t._v(" "),e("div",{staticClass:"progress-bar-wrapper"},[e("progress-bar",{attrs:{percent:t.percent},on:{percentChange:t.onProgressPercentChange}})],1),t._v(" "),e("span",{staticClass:"time time-r"},[t._v(t._s(t.format(t.currentSong.duration/1e3)))])]),t._v(" "),e("div",{staticClass:"play-icon-wrapper"},[e("div",{staticClass:"iconfont mode",domProps:{innerHTML:t._s(t.playMode)},on:{click:t.changeMode}}),t._v(" "),e("div",{staticClass:"iconfont prev",on:{click:t.prev}},[t._v("")]),t._v(" "),e("div",{staticClass:"iconfont play",domProps:{innerHTML:t._s(t.playIcon)},on:{click:t.togglePlaying}}),t._v(" "),e("div",{staticClass:"iconfont next",on:{click:t.next}},[t._v("")]),t._v(" "),e("div",{staticClass:"iconfont play-list"},[t._v("")])])])]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.fullScreen,expression:"!fullScreen"}],staticClass:"mini-player",on:{click:t.open}},[e("div",{staticClass:"img-wrapper"},[e("img",{staticClass:"img-music",attrs:{src:t.currentSong.picUrl}})]),t._v(" "),e("div",{staticClass:"music-desc"},[e("p",{staticClass:"music-name"},[t._v(t._s(t.currentSong.name))]),t._v(" "),e("p",{staticClass:"lyric"},[t._v(t._s(t.playingLyric?t.playingLyric:t.currentSong.singers))])]),t._v(" "),e("div",{staticClass:"iconfont music-play",domProps:{innerHTML:t._s(t.playIcon)},on:{click:function(s){return s.stopPropagation(),t.togglePlaying(s)}}}),t._v(" "),e("div",{staticClass:"iconfont music-list"},[t._v("\n      \n    ")])]),t._v(" "),e("audio",{ref:"audio",staticStyle:{display:"none"},attrs:{src:t.currentSong.url},on:{canplay:t.ready,error:t.error,timeupdate:t.updateTime,ended:t.end}})])},staticRenderFns:[]};var $={name:"App",components:{Player:e("VU/8")(D,N,!1,function(t){e("7oPY")},"data-v-1022dfe4",null).exports}},P={render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",{attrs:{id:"app"}},[s("router-view"),this._v(" "),s("player")],1)},staticRenderFns:[]};var I=e("VU/8")($,P,!1,function(t){e("ixPI")},"data-v-3450ce16",null).exports,K=e("/ocq"),F={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"header"},[e("div",{staticClass:"iconfont slider-icon"},[t._v("")]),t._v(" "),e("div",{staticClass:"iconfont middle-icon-wrapper"},[e("router-link",{attrs:{tag:"span",to:"/mv"}},[t._v("\n      \n    ")]),t._v(" "),e("router-link",{attrs:{tag:"span",to:"/recommend"}},[t._v("\n      \n    ")]),t._v(" "),e("router-link",{attrs:{tag:"span",to:"/user"}},[t._v("\n      \n    ")])],1),t._v(" "),e("router-link",{staticClass:"iconfont search-icon",attrs:{tag:"div",to:"/search"}},[t._v("\n    \n  ")])],1)},staticRenderFns:[]};var Q={name:"Home",components:{HomeHeader:e("VU/8")({name:"Header"},F,!1,function(t){e("OpNG")},"data-v-488d42ee",null).exports}},H={render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"home"},[s("home-header"),this._v(" "),s("div",{staticClass:"container"},[s("keep-alive",[s("router-view")],1)],1)],1)},staticRenderFns:[]};var O=e("VU/8")(Q,H,!1,function(t){e("5XqW")},"data-v-3e85258c",null).exports,G={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"loading-wrapper"},[s("img",{staticClass:"loading",attrs:{src:e("WVww")}})])}]};var V=e("VU/8")({name:"Loading"},G,!1,function(t){e("tMoZ")},"data-v-4fce6cf1",null).exports,j={name:"MusicList",components:{Loading:V},props:{showLoading:{type:Boolean,default:!0},musicListData:{type:Array,default:function(){return[]}}},methods:{showMusicDetail:function(t){this.$router.push("/music-list-detail/"+t)}}},q={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("div",{staticClass:"music-list-wrapper"},t._l(t.musicListData,function(s){return e("div",{key:s.id,staticClass:"item",on:{click:function(e){t.showMusicDetail(s.id)}}},[e("div",{staticClass:"img-wrapper"},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:s.picUrl,expression:"item.picUrl"}]}),t._v(" "),e("div",{staticClass:"number"},[e("span",{staticClass:"iconfont"},[t._v("")]),t._v(t._s(s.playCount))])]),t._v(" "),e("p",{staticClass:"desc"},[t._v(t._s(s.name))])])})),t._v(" "),e("loading",{directives:[{name:"show",rawName:"v-show",value:t.showLoading,expression:"showLoading"}]})],1)},staticRenderFns:[]};var J=e("VU/8")(j,q,!1,function(t){e("fKlw")},"data-v-6ca6c4ad",null).exports,Y={name:"SongList",props:{list:Array,default:[]},methods:o()({selectItem:function(t,s){this.selectPlay({list:this.list,index:s})}},Object(c.b)(["selectPlay"]))},z={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("ul",{staticClass:"list"},t._l(t.list,function(s,i){return e("li",{key:s.id,staticClass:"item",on:{click:function(e){t.selectItem(s,i)}}},[e("div",{staticClass:"range"},[t._v(t._s(i+1))]),t._v(" "),e("div",{staticClass:"info"},[e("p",{staticClass:"name"},[t._v(t._s(s.name)),s.alia?e("span",{staticClass:"alias"},[t._v("("+t._s(s.alia)+")")]):t._e()]),t._v(" "),e("div",{staticClass:"desc"},[t._v(t._s(s.singers)+" - "+t._s(s.album))])]),t._v(" "),t._m(0,!0)])}))])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"icon-wrap"},[s("span",{staticClass:"iconfont sel-icon"},[this._v("")])])}]};var W=e("VU/8")(Y,z,!1,function(t){e("FIer")},"data-v-1cbd7f09",null).exports,X=(e("v2ns"),e("7QTg")),Z=e("mtWM"),tt=e.n(Z),st="http://localhost:3000";var et=e("//Fk"),it=e.n(et);function nt(t){var s=t.type,e=t.id,i=t.limit,n=t.offset,a=st+"/comment/"+s;return tt.a.get(a,{params:{id:e,limit:i,offset:n}}).then(function(t){if(t&&t.data)return it.a.resolve(t.data)})}var at=function(){function t(s){var e=s.id,i=s.name,n=s.alia,a=s.singers,r=s.album,o=s.picUrl,c=s.duration,l=s.url;U()(this,t),this.id=e,this.name=i,this.alia=n,this.singers=a,this.album=r,this.picUrl=o,this.duration=c,this.url=l}return E()(t,[{key:"checkSong",value:function(){var t,s;(t=this.id,s=st+"/check/music",tt.a.get(s,{params:{id:t}}).then(function(t){return it.a.resolve(t.data)})).then(function(t){return t})}},{key:"getLyric",value:function(){var t=this;return this.lyric?it.a.resolve(this.lyric):new it.a(function(s,e){var i,n;(i=t.id,n=st+"/lyric",tt.a.get(n,{params:{id:i}}).then(function(t){return it.a.resolve(t.data)})).then(function(i){i&&i.lrc?(t.lyric=i.lrc.lyric,s(t.lyric)):e(new Error("no lyric"))})})}},{key:"getCommentCount",value:function(){var t=this;nt({type:"music",id:this.id}).then(function(s){if(s)return t.commentCount=s.total,it.a.resolve(s.total)})}}]),t}();function rt(t){return new at({id:t.id,name:t.name,alia:t.alias?t.alias[0]:t.alia[0],singers:function(t){var s=[];if(!t)return"";return t.forEach(function(t){s.push(t.name)}),s.join("/")}(t.ar||t.artists),album:t.al?t.al.name:t.album.name,picUrl:t.al?t.al.picUrl:t.album.picUrl,duration:t.dt||t.duration,url:"http://music.163.com/song/media/outer/url?id="+t.id+".mp3"})}var ot={computed:o()({},Object(c.c)(["playlist"])),mounted:function(){this.handlePlaylist(this.playlist)},activated:function(){this.handlePlaylist(this.playlist)},watch:{playlist:function(t){this.handlePlaylist(t)}},methods:{handlePlaylist:function(){throw new Error("component must implement handlePlaylist method")}}},ct={name:"Recommend",mixins:[ot],components:{MusicList:J,SongList:W,swiper:X.swiper,swiperSlide:X.swiperSlide,scroll:L},data:function(){return{banners:[],musicListData:[],swiperOption:{loop:!0,autoplay:!0,pagination:{el:".swiper-pagination"}},newMusicList:[]}},computed:{showSwiper:function(){return this.banners.length}},methods:{toMusicListPage:function(){this.$router.push("/music-list")},handlePlaylist:function(t){var s=t.length>0?"1.4rem":"";this.$refs.recommend.$el.style.bottom=s,this.$refs.recommend.refresh()},convertPlayCount:function(t){return _(t)},getNewMusicSucc:function(t){var s=this;t.forEach(function(t){t=t.song,s.newMusicList.push(rt(t))})}},created:function(){var t,s=this;(t=st+"/banner",tt.a.get(t)).then(function(t){if(t&&t.data&&t.data.banners){var e=t.data.banners;s.banners=e}}),function(){var t=st+"/personalized";return tt.a.get(t)}().then(function(t){if(t&&t.data&&t.data.result){for(var e=0;e<6;e++)t.data.result[e].playCount=s.convertPlayCount(t.data.result[e].playCount);s.musicListData=t.data.result.slice(0,6)}}),function(){var t=st+"/personalized/newsong";return tt.a.get(t)}().then(function(t){t&&t.data&&t.data.result&&s.getNewMusicSucc(t.data.result)})}},lt={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("scroll",{ref:"recommend",staticClass:"recommend"},[e("div",[e("div",{staticClass:"swiper-container"},[t.showSwiper?e("swiper",{attrs:{options:t.swiperOption}},[t._l(t.banners,function(t,s){return e("swiper-slide",{key:s},[e("a",{staticClass:"swiper-img-wrapper",attrs:{href:t.url}},[e("img",{staticClass:"swiper-img",attrs:{src:t.picUrl}})])])}),t._v(" "),e("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],2):t._e()],1),t._v(" "),e("div",{staticClass:"icon-wrapper"},[e("router-link",{staticClass:"icon-item",attrs:{tag:"div",to:"/rank"}},[e("div",{staticClass:"icon-type"},[e("span",{staticClass:"iconfont"},[t._v("")])]),t._v(" "),e("p",{staticClass:"icon-title"},[t._v("排行榜")])]),t._v(" "),e("router-link",{staticClass:"icon-item",attrs:{tag:"div",to:"/music-list"}},[e("div",{staticClass:"icon-type"},[e("span",{staticClass:"iconfont"},[t._v("")])]),t._v(" "),e("p",{staticClass:"icon-title"},[t._v("歌单")])]),t._v(" "),e("router-link",{staticClass:"icon-item",attrs:{tag:"div",to:"/singer"}},[e("div",{staticClass:"icon-type"},[e("span",{staticClass:"iconfont"},[t._v("")])]),t._v(" "),e("p",{staticClass:"icon-title"},[t._v("歌手")])]),t._v(" "),e("router-link",{staticClass:"icon-item",attrs:{tag:"div",to:"/fm"}},[e("div",{staticClass:"icon-type"},[e("span",{staticClass:"iconfont"},[t._v("")])]),t._v(" "),e("p",{staticClass:"icon-title"},[t._v("电台")])])],1),t._v(" "),e("h2",{staticClass:"title",on:{click:t.toMusicListPage}},[t._v("推荐歌单"),e("span",{staticClass:"iconfont"},[t._v("")])]),t._v(" "),e("music-list",{attrs:{"music-list-data":this.musicListData,showLoading:!1}}),t._v(" "),e("h2",{staticClass:"title"},[t._v("最新音乐")]),t._v(" "),e("song-list",{attrs:{list:t.newMusicList}})],1)])},staticRenderFns:[]};var ut=e("VU/8")(ct,lt,!1,function(t){e("gB8C")},"data-v-23e20020",null).exports,ht={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{},[s("h2",[this._v("mv页面")])])}]};var dt=e("VU/8")({name:"MusicVideo"},ht,!1,function(t){e("08SB")},"data-v-eb065776",null).exports,vt={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"user"},[s("h2",[this._v("用户界面\n  看到收藏呀 还有什么播放呀什么的东西\n  ")])])}]};var ft=e("VU/8")({name:"User"},vt,!1,function(t){e("NyiC")},"data-v-e9dee64c",null).exports,mt={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"search-header"},[e("div",{staticClass:"iconfont back-icon",on:{click:t.back}},[t._v("")]),t._v(" "),e("div",{staticClass:"search-input"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],ref:"searchInput",attrs:{type:"text",placeholder:"请输入关键字",autofocus:""},domProps:{value:t.query},on:{keydown:function(s){return"button"in s||!t._k(s.keyCode,"enter",13,s.key,"Enter")?t.search(s):null},input:function(s){s.target.composing||(t.query=s.target.value)}}}),t._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:this.query.length,expression:"this.query.length"}],staticClass:"iconfont del-icon",on:{click:t.clear}},[t._v("")])])])},staticRenderFns:[]};function pt(t){var s=st+"/search";return tt.a.get(s,{params:t}).then(function(t){if(t&&t.data)return it.a.resolve(t.data)})}var gt={name:"Search",components:{SearchHeader:e("VU/8")({name:"SearchHeader",data:function(){return{query:""}},methods:{back:function(){this.$router.push("/")},setQuery:function(t){this.query=t},search:function(){this.query&&this.$emit("search",this.query.trim())},clear:function(){this.query="",this.$refs.searchInput.focus()}}},mt,!1,function(t){e("j4B2")},"data-v-1f6aea7e",null).exports,Loading:V},data:function(){return{searchHots:[],keywords:""}},computed:o()({type:function(){return this.$route.path.split("/")[2]||1}},Object(c.c)(["showSearchRes"])),methods:o()({setQuery:function(t){var s=this.$refs.searchHeader;s.setQuery(t),s.search()},search:function(t){this.keywords=t,this.showSearchRes||this.setShowSearchRes(!0),this.$router.push("/search/"+this.type+"?keywords="+t)},getSearchHot:function(){var t,s=this;(t=st+"/search/hot",tt.a.get(t).then(function(t){if(t&&t.data)return it.a.resolve(t.data)})).then(function(t){t&&t.result&&(s.searchHots=t.result.hots)})}},Object(c.d)({setShowSearchRes:"SET_SHOW_SEARCH_RES"})),mounted:function(){this.getSearchHot()},beforeRouteLeave:function(t,s,e){this.setShowSearchRes(!1),e()}},At={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("search-header",{ref:"searchHeader",on:{search:t.search}}),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.showSearchRes,expression:"!showSearchRes"}],staticClass:"container"},[e("div",{staticClass:"title"},[t._v("热门搜索")]),t._v(" "),e("div",{staticClass:"hot-key-wrapper"},[e("ul",t._l(t.searchHots,function(s,i){return e("li",{key:i,staticClass:"search-hot-key",on:{click:function(e){t.setQuery(s.first)}}},[t._v(t._s(s.first))])}))]),t._v(" "),t._m(0)]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.showSearchRes,expression:"showSearchRes"}],staticClass:"search-res"},[e("ul",{staticClass:"tab"},[e("li",{staticClass:"tab-header"},[e("router-link",{staticClass:"tab-header",attrs:{to:{name:"SearchSongs",query:{keywords:this.keywords},params:{type:1}}}},[t._v("单曲")])],1),t._v(" "),e("li",{staticClass:"tab-header"},[e("router-link",{staticClass:"tab-header",attrs:{to:{name:"SearchSingers",query:{keywords:this.keywords}}}},[t._v("歌手")])],1),t._v(" "),e("li",{staticClass:"tab-header"},[e("router-link",{staticClass:"tab-header",attrs:{to:{name:"SearchMusicLists",query:{keywords:this.keywords}}}},[t._v("歌单")])],1)]),t._v(" "),e("div",{staticClass:"result"},[e("keep-alive",[e("router-view")],1)],1)])],1)},staticRenderFns:[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ul",{staticClass:"his-wrapper"},[e("li",{staticClass:"search-item"},[e("div",{staticClass:"iconfont his-icon"},[t._v("")]),t._v(" "),e("div",{staticClass:"item-content"},[t._v("\n          华晨宇\n          "),e("span",{staticClass:"iconfont del-icon"},[t._v("")])])]),t._v(" "),e("li",{staticClass:"search-item"},[e("div",{staticClass:"iconfont his-icon"},[t._v("")]),t._v(" "),e("div",{staticClass:"item-content"},[t._v("\n          华晨宇\n          "),e("span",{staticClass:"iconfont del-icon"},[t._v("")])])]),t._v(" "),e("li",{staticClass:"search-item"},[e("div",{staticClass:"iconfont his-icon"},[t._v("")]),t._v(" "),e("div",{staticClass:"item-content"},[t._v("\n          华晨宇\n          "),e("span",{staticClass:"iconfont del-icon"},[t._v("")])])]),t._v(" "),e("li",{staticClass:"search-item"},[e("div",{staticClass:"iconfont his-icon"},[t._v("")]),t._v(" "),e("div",{staticClass:"item-content"},[t._v("\n          华晨宇\n          "),e("span",{staticClass:"iconfont del-icon"},[t._v("")])])])])}]};var _t=e("VU/8")(gt,At,!1,function(t){e("6gMh")},"data-v-a8cc5b5e",null).exports,Ct={name:"Header",props:{title:{type:String},routerBack:{type:Boolean,default:!1}},methods:{back:function(){this.routerBack?this.$router.back():this.$emit("back")}}},yt={render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"header"},[s("div",{staticClass:"iconfont back-icon",on:{click:this.back}},[this._v("")]),this._v(" "),s("div",{staticClass:"middle-wrapper"},[this._v(this._s(this.title)+"\n    "),this._t("default")],2)])},staticRenderFns:[]};var wt=e("VU/8")(Ct,yt,!1,function(t){e("QEwt")},"data-v-f43fd40c",null).exports;function kt(t){var s=st+"/top/list";return tt.a.get(s,{params:{idx:t}}).then(function(t){if(t&&t.data)return it.a.resolve(t.data)})}var Lt=function(){function t(s){var e=s.id,i=s.name,n=s.desc,a=s.playCount,r=void 0===a?0:a,o=s.picUrl,c=s.commentCount,l=void 0===c?0:c,u=s.songListData,h=void 0===u?[]:u;U()(this,t),this.id=e,this.name=i,this.desc=n,this.playCount=r,this.picUrl=o,this.commentCount=l,this.songListData=h,this._init()}return E()(t,[{key:"_init",value:function(){this._getBackgroundImage(),this._getSongsCount()}},{key:"_getSongsCount",value:function(){this.songListData?this.songsCount=this.songListData.length:this.songsCount=0}},{key:"_getBackgroundImage",value:function(){this.backgroundImage=this.picUrl}}]),t}();function St(t){return new Lt({id:t.id,name:t.name,desc:t.description,playCount:(s=t.playCount,_(s)),picUrl:t.coverImgUrl,commentCount:t.commentCount,songListData:function(t){if(0===t.length)return null;var s=[];return t.forEach(function(t){s.push(rt(t))}),s}(t.tracks)});var s}var Ut={name:"Rank",mixins:[ot],components:{BaseHeader:wt,MusicList:J,Scroll:L,Loading:V},data:function(){return{showLoading:!0,officialIndex:3,globalIndex:23,officialMusicList:[],globalMusicList:[]}},methods:{handlePlaylist:function(t){var s=t.length>0?"1.4rem":"";this.$refs.scroll.$el.style.bottom=s,this.$refs.scroll.refresh()},showMusicDetail:function(t){this.$router.push("/music-list-detail/"+t)},getRankList:function(){for(var t=this,s=0;s<=this.officialIndex;s++)kt(s).then(function(s){s&&s.playlist&&t.officialMusicList.push(St(s.playlist))});for(var e=this.officialIndex+1;e<=this.globalIndex;e++)kt(e).then(function(s){s&&s.playlist&&(t.globalMusicList.push(St(s.playlist)),t.showLoading=!1)})}},mounted:function(){this.getRankList()}},bt={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("base-header",{attrs:{title:"排行榜","router-back":!0}}),t._v(" "),e("scroll",{ref:"scroll",staticClass:"container",attrs:{data:t.globalMusicList}},[e("div",[e("loading",{directives:[{name:"show",rawName:"v-show",value:t.showLoading,expression:"showLoading"}]}),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.showLoading,expression:"!showLoading"}],attrs:{role:"content"}},[e("div",{staticClass:"title"},[t._v("官方榜")]),t._v(" "),e("div",{staticClass:"official-list"},t._l(t.officialMusicList,function(s){return e("div",{key:s.id,staticClass:"item",on:{click:function(e){t.showMusicDetail(s.id)}}},[e("div",{staticClass:"img-wrapper"},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:s.picUrl,expression:"item.picUrl"}],staticClass:"img"})]),t._v(" "),e("ol",{staticClass:"top3-list"},t._l(s.songListData.slice(0,3),function(s){return e("li",{key:s.id,staticClass:"list-item"},[e("span",{attrs:{role:"name"}},[t._v(t._s(s.name))]),t._v("-"),e("span",{attrs:{role:"singer"}},[t._v(t._s(s.singers))])])}))])})),t._v(" "),e("div",{staticClass:"title"},[t._v("全球榜")]),t._v(" "),e("div",{staticClass:"global-list"},[e("music-list",{attrs:{musicListData:t.globalMusicList,showLoading:!1}})],1)])],1)])],1)},staticRenderFns:[]};var Et=e("VU/8")(Ut,bt,!1,function(t){e("f2Wr")},"data-v-ab5f9fb8",null).exports;var xt={name:"Category",mixins:[ot],props:{currentCat:{type:String}},components:{BaseHeader:wt,Loading:V,Scroll:L},data:function(){return{catList:{},showLoading:!0,iconType:{"语种":"&#xe747;","风格":"&#xe630;","场景":"&#xe677;","情感":"&#xe680;","主题":"&#xe60f;"}}},methods:{back:function(){this.$emit("changeShowCate")},handlePlaylist:function(t){var s=this,e=t.length>0?"1.4rem":"";this.$refs.scroll.$el.style.bottom=e,setTimeout(function(){s.$refs.scroll.refresh()})},scrollRefresh:function(){var t=this;setTimeout(function(){t.$refs.scroll.refresh()})},changeCat:function(t){this.back(),this.$emit("changeCat",t)},convertToCatList:function(t,s){var e=this;s.forEach(function(s){e.catList[t[s.category]]||(e.catList[t[s.category]]=[]),e.catList[t[s.category]].push({name:s.name,hot:s.hot})})}},mounted:function(){var t,s=this;(t=st+"/playlist/catlist",tt.a.get(t)).then(function(t){if(t&&t.data&&t.data.categories&&t.data.sub){var e=t.data.categories,i=t.data.sub;s.convertToCatList(e,i),s.showLoading=!1}})}},Rt={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"category"},[e("base-header",{attrs:{title:"选择分类"},on:{back:t.back}}),t._v(" "),e("scroll",{ref:"scroll",staticClass:"container"},[e("div",{staticClass:"content"},[e("div",{staticClass:"all",class:{current:"全部"==t.currentCat}},[t._v("全部歌单")]),t._v(" "),e("loading",{directives:[{name:"show",rawName:"v-show",value:t.showLoading,expression:"showLoading"}]}),t._v(" "),t._l(t.catList,function(s,i){return e("div",{directives:[{name:"show",rawName:"v-show",value:!t.showLoading,expression:"!showLoading"}],key:i,staticClass:"cate"},[e("p",{staticClass:"cate-title"},[e("span",{staticClass:"iconfont",domProps:{innerHTML:t._s(t.iconType[i])}}),t._v(t._s(i))]),t._v(" "),e("div",{staticClass:"item-wrapper"},t._l(s,function(s){return e("div",{key:s.name,staticClass:"item",class:{current:s.name==t.currentCat},on:{click:function(e){t.changeCat(s.name)}}},[t._v(t._s(s.name))])}))])})],2)])],1)},staticRenderFns:[]};var Tt={components:{BaseHeader:wt,MusicList:J,Category:e("VU/8")(xt,Rt,!1,function(t){e("I4af")},"data-v-ae39e736",null).exports,Scroll:L,Loading:V},mixins:[ot],data:function(){return{musicListData:[],catList:[],cat:"全部",limit:21,offset:0,showCate:!1,showLoading:!0,showpullUpLoading:!1}},methods:{back:function(){this.$router.back()},convertPlayCount:function(t){return _(t)},handlePlaylist:function(t){var s=t.length>0?"1.4rem":"";this.$refs.scroll.$el.style.bottom=s,this.$refs.scroll.refresh()},getHotMusicList:function(t){var s,e,i,n,a=this;t?(this.offset=0,this.musicListData=[]):(this.offset+=21,this.showpullUpLoading=!0),(s=this.cat,e=this.limit,i=this.offset,n=st+"/top/playlist",tt.a.get(n,{params:{cat:s,limit:e,offset:i}})).then(function(s){s&&s.data&&s.data.playlists&&a.getHotMusicListSucc(s.data.playlists,t)})},getHotMusicListSucc:function(t,s){var e=this,i=[];t.forEach(function(t){i.push({id:t.id,name:t.name,picUrl:t.coverImgUrl,playCount:e.convertPlayCount(t.playCount)})}),this.musicListData=this.musicListData.concat(i),this.showLoading=!1,setTimeout(function(){e.$refs.scroll.refresh(),e.showpullUpLoading=!1},20)},changeCat:function(t){this.cat=t,this.$refs.categoryBtn.innerText=t},changeShowCate:function(){this.showCate=!this.showCate,this.showCate&&this.$refs.cate.scrollRefresh()}},mounted:function(){this.getHotMusicList(!0)},watch:{cat:function(){this.showLoading=!0,this.getHotMusicList(!0)}}},Bt={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("base-header",{attrs:{title:"歌单","router-back":!0}}),t._v(" "),e("scroll",{directives:[{name:"show",rawName:"v-show",value:!t.showCate,expression:"!showCate"}],ref:"scroll",staticClass:"container",attrs:{pullup:!0},on:{scrollToEnd:t.getHotMusicList}},[e("div",[e("div",{staticClass:"wonder-music"},[e("div",{staticClass:"bg-blur"}),t._v(" "),e("div",{staticClass:"wonder-wrap"},[e("div",{staticClass:"img-wrapper"},[e("img",{staticClass:"img",attrs:{src:"http://p1.music.126.net/KS7kCUfX3ydJ5bSwCMXC_w==/3417282145777733.jpg"}})]),t._v(" "),e("div",{staticClass:"desc"},[e("h2",{staticClass:"title"},[t._v("精品歌单"),e("span",{staticClass:"iconfont more-icon"},[t._v("")])]),t._v(" "),e("p",{staticClass:"name"},[t._v("日式夜晚°霓虹街灯下")]),t._v(" "),e("p",{staticClass:"copywriter"},[t._v("夏天结束了，我们在霓虹灯下跳最后一支舞吧")])])])]),t._v(" "),e("div",{staticClass:"title-wrapper"},[e("div",{staticClass:"cate-btn",on:{click:t.changeShowCate}},[e("a",{ref:"categoryBtn"},[t._v("全部")]),e("span",{staticClass:"iconfont"},[t._v("")])]),t._v(" "),e("ul",{staticClass:"hot-cate"},[e("li",{on:{click:function(s){t.changeCat("全部")}}},[t._v("全部")]),t._v(" "),e("li",{on:{click:function(s){t.changeCat("华语")}}},[t._v("华语")]),t._v(" "),e("li",{on:{click:function(s){t.changeCat("民谣")}}},[t._v("民谣")]),t._v(" "),e("li",{on:{click:function(s){t.changeCat("欧美")}}},[t._v("欧美")])])]),t._v(" "),e("loading",{directives:[{name:"show",rawName:"v-show",value:t.showLoading,expression:"showLoading"}]}),t._v(" "),e("music-list",{directives:[{name:"show",rawName:"v-show",value:!t.showLoading,expression:"!showLoading"}],attrs:{"music-list-data":t.musicListData}})],1)]),t._v(" "),e("category",{directives:[{name:"show",rawName:"v-show",value:t.showCate,expression:"showCate"}],ref:"cate",attrs:{"current-cat":t.cat},on:{changeShowCate:t.changeShowCate,changeCat:t.changeCat}})],1)},staticRenderFns:[]};var Mt=e("VU/8")(Tt,Bt,!1,function(t){e("QnvM")},"data-v-526438b7",null).exports,Dt=["&#xe720;","&#xe721;"],Nt={name:"Check",props:{list:{type:Array}},components:{BaseHeader:wt,Scroll:L},data:function(){return{checked:[]}},computed:{checkedNum:function(){return this.checked.filter(function(t){return 1===t}).length},checkText:function(){return this.checkedNum===this.list.length?"取消全选":"全选"}},methods:{back:function(){this.$emit("changeShowCheck")},scrollRefresh:function(){var t=this;setTimeout(function(){t.$refs.scroll.refresh()},20)},handleCheckItem:function(t){var s=this.$refs.checkDOM[t],e=this.checked[t];s.innerHTML=Dt[1-e],this.checked.splice(t,1,1-e)},handleCheckAll:function(t){for(var s=this.checkedNum===this.list.length,e=0;e<this.checked.length;e++)this.$set(this.checked,e,1-s);this.$refs.checkDOM.forEach(function(t){t.innerHTML=Dt[1-s]})}},watch:{list:function(t){this.checked.length=t.length,this.checked.fill(0)}}},$t={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"check"},[e("base-header",{attrs:{title:"已选择"+t.checkedNum+"项"},on:{back:t.back}},[e("div",{staticClass:"checkAll",on:{click:t.handleCheckAll}},[t._v(t._s(t.checkText))])]),t._v(" "),e("scroll",{ref:"scroll",staticClass:"container"},[e("div",[e("ul",{staticClass:"list"},t._l(t.list,function(s,i){return e("li",{key:s.id,staticClass:"item",on:{click:function(s){t.handleCheckItem(i)}}},[e("div",{ref:"checkDOM",refInFor:!0,staticClass:"iconfont check"},[t._v("")]),t._v(" "),e("div",{staticClass:"info"},[e("p",{staticClass:"name"},[t._v(t._s(s.name)),s.alias?e("span",{staticClass:"alias"},[t._v("("+t._s(s.alias)+")")]):t._e()]),t._v(" "),e("div",{staticClass:"desc"},[t._v(t._s(s.singers)+" - "+t._s(s.album))])])])}))])]),t._v(" "),t._m(0)],1)},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"icon-wrapper"},[s("div",{staticClass:"item"},[s("span",{staticClass:"iconfont"},[this._v("")]),this._v(" "),s("p",{staticClass:"icon-info"},[this._v("下一首播放")])]),this._v(" "),s("div",{staticClass:"item"},[s("span",{staticClass:"iconfont"},[this._v("")]),this._v(" "),s("p",{staticClass:"icon-info"},[this._v("收藏歌曲")])])])}]};var Pt={name:"MusicListDetail",mixins:[ot],components:{BaseHeader:wt,SongList:W,Loading:V,Scroll:L,Check:e("VU/8")(Nt,$t,!1,function(t){e("1chq")},"data-v-09a57b8e",null).exports},data:function(){return{title:"歌单",musicListData:{},showLoading:!0,showCheck:!1}},computed:{id:function(){return this.$route.params.id}},methods:o()({turnToComment:function(){this.$router.push({path:"/comment/playlist/"+this.musicListData.id,query:{name:this.musicListData.name,picUrl:this.musicListData.picUrl}})},back:function(){this.$router.back()},changeShowCheck:function(){this.showCheck=!this.showCheck,this.showCheck&&this.$refs.check.scrollRefresh()},handlePlaylist:function(t){var s=t.length>0?"1.4rem":"";this.$refs.scroll.$el.style.bottom=s,this.$refs.scroll.refresh()},handleScroll:function(t){var s=document.documentElement.style.fontSize;s=s.replace("px",""),Math.abs(t.y)>=4.8*s?this.title=this.musicListData.name:this.title="歌单"},random:function(){this.randomPlay({list:this.musicListData.songListData})},getMusicListDetail:function(t){var s=this;(function(t){var s=st+"/playlist/detail";return tt.a.get(s,{params:{id:t}})})(t).then(function(t){t&&t.data&&t.data.playlist&&s.getMusicListDetailSucc(t.data.playlist)})},getMusicListDetailSucc:function(t){this.musicListData=St(t),this.showLoading=!1}},Object(c.b)(["selectPlay","randomPlay"])),mounted:function(){this.getMusicListDetail(this.id)}},It={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("base-header",{attrs:{title:t.title,"router-back":!0}}),t._v(" "),e("scroll",{directives:[{name:"show",rawName:"v-show",value:!t.showCheck,expression:"!showCheck"}],ref:"scroll",staticClass:"container",attrs:{listenScroll:!0,probeType:3},on:{scroll:t.handleScroll}},[e("div",[e("div",{staticClass:"header-desc"},[e("div",{staticClass:"bg-blur",style:{background:"url("+this.musicListData.backgroundImage+")"}}),t._v(" "),e("div",{staticClass:"desc-content"},[e("div",{staticClass:"desc-wrapper"},[e("div",{staticClass:"img-wrapper"},[e("img",{attrs:{src:this.musicListData.picUrl}}),t._v(" "),e("div",{staticClass:"number"},[e("span",{staticClass:"iconfont"},[t._v("")]),t._v(t._s(this.musicListData.playCount))])]),t._v(" "),e("div",{staticClass:"info"},[e("p",{staticClass:"name"},[t._v(t._s(this.musicListData.name))])])]),t._v(" "),e("div",{staticClass:"icon-wrapper"},[e("div",{staticClass:"icon-item"},[e("div",{staticClass:"iconfont comment",on:{click:t.turnToComment}},[t._v("")]),t._v(" "),e("span",{staticClass:"icon-info num"},[t._v(t._s(0===this.musicListData.commentCount?"评论":this.musicListData.commentCount))])]),t._v(" "),e("div",{staticClass:"icon-item"},[e("div",{staticClass:"iconfont"},[t._v("")]),t._v(" "),e("span",{staticClass:"icon-info"},[t._v("收藏")])]),t._v(" "),e("div",{staticClass:"icon-item",on:{click:t.changeShowCheck}},[e("div",{staticClass:"iconfont"},[t._v("")]),t._v(" "),e("span",{staticClass:"icon-info"},[t._v("多选")])])])])]),t._v(" "),e("loading",{directives:[{name:"show",rawName:"v-show",value:t.showLoading,expression:"showLoading"}]}),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.showLoading,expression:"!showLoading"}],staticClass:"song-list"},[e("div",{staticClass:"title",on:{click:t.random}},[e("div",{staticClass:"iconfont play"},[t._v("")]),t._v("\n          随机播放全部 (共"+t._s(this.musicListData.songsCount)+"首)\n        ")]),t._v(" "),e("song-list",{attrs:{list:this.musicListData.songListData}})],1)],1)]),t._v(" "),e("check",{directives:[{name:"show",rawName:"v-show",value:t.showCheck,expression:"showCheck"}],ref:"check",attrs:{list:this.musicListData.songListData?this.musicListData.songListData:[]},on:{changeShowCheck:t.changeShowCheck}})],1)},staticRenderFns:[]};var Kt=e("VU/8")(Pt,It,!1,function(t){e("y1/c")},"data-v-084034f6",null).exports,Ft={render:function(){var t=this.$createElement;return(this._self._c||t)("div",[this._v("\n电台页面\n")])},staticRenderFns:[]};var Qt=e("VU/8")({name:"FM"},Ft,!1,function(t){e("uL8J")},"data-v-0958a1ef",null).exports,Ht={name:"Comment",components:{BaseHeader:wt,Loading:V,Scroll:L},data:function(){return{total:0,hotComments:[],comments:[],more:!0,moreHot:!0,showPullUpLoading:!0,limit:20,offset:0}},computed:o()({id:function(){return this.$route.params.id},type:function(){return this.$route.params.type},target:function(){return this.$route.query}},Object(c.c)(["playlist"])),methods:{back:function(){this.$router.back(),this.playlist.length>0&&(document.querySelector(".player").style.display="block")},getComment:function(t){var s=this;this.more?(t?(this.offset=0,this.comments=[]):this.offset+=20,nt({type:this.type,id:this.id,limit:this.limit,offset:this.offset}).then(function(e){s.total=e.total,t&&(s.hotComments=e.hotComments),s.comments=s.comments.concat(e.comments),s.moreHot=e.moreHot,s.more=e.more})):this.showPullUpLoading=!1},_formatTime:function(t){var s=new Date(t);return s.getFullYear()+"年"+(s.getMonth()+1)+"月"+s.getDate()+"日 "+this._padNum(s.getHours())+":"+this._padNum(s.getMinutes())},_padNum:function(t){for(var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,e=t.toString().length;e<s;)t="0"+t,e++;return t}},mounted:function(){document.querySelector(".player").style.display="none",this.getComment(!0)}},Ot={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("base-header",{attrs:{title:"评论"},on:{back:t.back}},[t._v("("+t._s(t.total)+")")]),t._v(" "),e("scroll",{staticClass:"container",attrs:{pullup:!0},on:{scrollToEnd:t.getComment}},[e("div",{staticClass:"wrapper"},[e("div",{staticClass:"target"},[e("div",{staticClass:"img-wrapper"},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.target.picUrl,expression:"target.picUrl"}],staticClass:"img"})]),t._v(" "),e("div",{staticClass:"target-desc"},[e("div",{staticClass:"song-name"},[t._v(t._s(t.target.name))]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:"music"===this.type,expression:"this.type === 'music'"}],staticClass:"singer"},[t._v(t._s(t.target.singer))])])]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:this.hotComments.length,expression:"this.hotComments.length"}],staticClass:"hot-comment"},[e("div",{staticClass:"title"},[t._v("精彩评论")]),t._v(" "),e("div",{staticClass:"list"},t._l(t.hotComments,function(s){return e("div",{key:s.commentId,staticClass:"item"},[e("div",{staticClass:"img-wrapper"},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:s.user.avatarUrl,expression:"item.user.avatarUrl"}],staticClass:"img"})]),t._v(" "),e("div",{staticClass:"content"},[e("div",{staticClass:"desc-wrapper"},[e("div",{staticClass:"desc"},[e("div",{staticClass:"nickname"},[t._v(t._s(s.user.nickname))]),t._v(" "),e("div",{staticClass:"time"},[t._v(t._s(t._formatTime(s.time)))])])]),t._v(" "),e("div",{staticClass:"comment"},[t._v(t._s(s.content))])])])}))]),t._v(" "),e("div",{staticClass:"title"},[t._v("最新评论")]),t._v(" "),e("div",{staticClass:"list"},[t._l(t.comments,function(s){return e("div",{key:s.commentId,staticClass:"item"},[e("div",{staticClass:"img-wrapper"},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:s.user.avatarUrl,expression:"item.user.avatarUrl"}],staticClass:"img"})]),t._v(" "),e("div",{staticClass:"content"},[e("div",{staticClass:"desc-wrapper"},[e("div",{staticClass:"desc"},[e("div",{staticClass:"nickname"},[t._v(t._s(s.user.nickname))]),t._v(" "),e("div",{staticClass:"time"},[t._v(t._s(t._formatTime(s.time)))])])]),t._v(" "),e("div",{staticClass:"comment"},[t._v("\n              "+t._s(s.content)+"\n              "),e("div",{directives:[{name:"show",rawName:"v-show",value:s.beReplied.length,expression:"item.beReplied.length"}],staticClass:"reply"},[e("a",{staticClass:"user",attrs:{href:"javascript:;"}},[t._v("@"+t._s(s.beReplied[0]&&s.beReplied[0].user&&s.beReplied[0].user.nickname)+":")]),t._v("\n                "+t._s(s.beReplied[0]&&s.beReplied[0].content)+"\n              ")])])])])}),t._v(" "),e("loading",{directives:[{name:"show",rawName:"v-show",value:t.showPullUpLoading,expression:"showPullUpLoading"}]})],2)])])],1)},staticRenderFns:[]};var Gt=e("VU/8")(Ht,Ot,!1,function(t){e("fliD")},"data-v-67ca81f1",null).exports,Vt={name:"SingerList",props:{list:{type:Array,default:function(){return[]}},showLoading:{type:Boolean,default:!0}},methods:{selectItem:function(t){this.$emit("select",t)}},components:{Loading:V}},jt={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"list"},[t._l(t.list,function(s){return e("div",{key:s.id,staticClass:"item",on:{click:function(e){t.selectItem(s.id)}}},[e("div",{staticClass:"img-wrapper"},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:s.img1v1Url,expression:"item.img1v1Url"}],staticClass:"img"})]),t._v(" "),e("div",{staticClass:"name"},[t._v("\n      "+t._s(s.name)+"\n    ")])])}),t._v(" "),e("loading",{directives:[{name:"show",rawName:"v-show",value:t.showLoading,expression:"showLoading"}]})],2)},staticRenderFns:[]};var qt=e("VU/8")(Vt,jt,!1,function(t){e("c4yL")},"data-v-44cb13d8",null).exports;var Jt={name:"Singer",mixins:[ot],components:{BaseHeader:wt,SingerList:qt,Scroll:L,Loading:V},data:function(){return{hotSingerList:[],limit:20,offset:0,showLoading:!0,showPullUpLoading:!0,more:!0}},methods:{back:function(){this.$router.push("/")},handlePlaylist:function(t){var s=t.length>0?"1.4rem":"";this.$refs.scroll.$el.style.bottom=s,this.$refs.scroll.refresh()},getHotSinger:function(t){var s,e,i,n=this;this.more&&(t?(this.offset=0,this.hotSingerList=[]):this.offset+=20,(s=this.limit,e=this.offset,i=st+"/top/artists",tt.a.get(i,{params:{offset:e,limit:s}}).then(function(t){if(t&&t.data)return it.a.resolve(t.data)})).then(function(t){t&&t.artists&&(t.more||(n.showPullUpLoading=!1),n.more=t.more,n.hotSingerList=n.hotSingerList.concat(t.artists),n.showLoading=!1)}))},selectSinger:function(t){this.$router.push("/singer-detail/"+t)}},mounted:function(){this.getHotSinger(!0)}},Yt={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("base-header",{attrs:{title:"歌手"},on:{back:t.back}}),t._v(" "),e("scroll",{ref:"scroll",staticClass:"container",attrs:{data:t.hotSingerList,pullup:!0},on:{scrollToEnd:t.getHotSinger}},[e("div",[e("router-link",{staticClass:"iconfont singer border-bottom",attrs:{tag:"div",to:"/singercate"}},[t._v("\n        "),e("span",[t._v("歌手分类")])]),t._v(" "),e("loading",{directives:[{name:"show",rawName:"v-show",value:t.showLoading,expression:"showLoading"}]}),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.showLoading,expression:"!showLoading"}]},[e("div",{staticClass:"title"},[t._v("热门歌手")]),t._v(" "),e("singer-list",{attrs:{list:t.hotSingerList,showLoading:t.showPullUpLoading},on:{select:t.selectSinger}})],1)],1)])],1)},staticRenderFns:[]};var zt=e("VU/8")(Jt,Yt,!1,function(t){e("nBTL")},"data-v-67c36c6b",null).exports,Wt={name:"SingerCate",mixins:[ot],components:{BaseHeader:wt,Scroll:L,SingerList:qt,Loading:V},data:function(){return{showList:!1,showLoading:!0,showPullUpLoading:!1,showFilterList:!1,title:"",cate:A.HuaMan,singerCateList:A,limit:20,offset:0,initial:"热门歌手",singerData:[],more:!0,letterList:["热门歌手","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"]}},methods:{cateBack:function(){this.$router.push("/singer")},back:function(){this.showList=!1},showLayer:function(){var t=this;this.showFilterList=!0,setTimeout(function(){t.$refs.filterListScroll.refresh()},20)},toSingerDetail:function(t){this.$router.push("/singer-detail/"+t)},handlePlaylist:function(t){var s=t.length>0?"1.4rem":"";this.$refs.scroll.$el.style.bottom=s,this.$refs.scroll.refresh(),this.$refs.scroll1.$el.style.bottom=s,this.$refs.scroll1.refresh()},handleLayerClick:function(){this.showFilterList=!1},handleFileterListClick:function(t){console.log(t.target.dataset.initial),this.initial=t.target.dataset.initial,this.showFilterList=!1,this.getSingerList(!0)},showSingerList:function(t){this.title=t.target.innerText,this.cate=t.target.dataset.cate,this.initial="热门歌手",this.showList=!0,this.getSingerList(!0)},getSingerList:function(t){var s=this;if(t)this.offset=0,this.singerData=[];else if(this.offset+=20,!this.more)return;var e,i,n,a,r,o="热门歌手"===this.initial?"":this.initial;(e=this.cate,i=o,n=this.limit,a=this.offset,r=st+"/artist/list",tt.a.get(r,{params:{cat:e,initial:i,limit:n,offset:a}}).then(function(t){if(t&&t.data)return it.a.resolve(t.data)})).then(function(t){t&&t.artists&&(s.more=t.more,t.more?s.showPullUpLoading=!0:s.showPullUpLoading=!1,s.singerData=s.singerData.concat(t.artists),s.showLoading=!1)})}},mounted:function(){var t=this;setTimeout(function(){t.$refs.scroll.refresh()},20)}},Xt={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("div",{directives:[{name:"show",rawName:"v-show",value:!t.showList,expression:"!showList"}],staticClass:"category"},[e("base-header",{attrs:{title:"歌手分类"},on:{back:t.cateBack}}),t._v(" "),e("scroll",{ref:"scroll",staticClass:"container"},[e("div",{on:{click:t.showSingerList}},[e("div",{staticClass:"list",attrs:{role:"china"}},[e("div",{staticClass:"item",attrs:{"data-cate":t.singerCateList.HuaMan}},[t._v("华语男歌手")]),t._v(" "),e("div",{staticClass:"item",attrs:{"data-cate":t.singerCateList.HuaWoman}},[t._v("华语女歌手")]),t._v(" "),e("div",{staticClass:"item",attrs:{"data-cate":t.singerCateList.HuaGroup}},[t._v("华语乐队/组合")])]),t._v(" "),e("div",{staticClass:"list",attrs:{role:"ua"}},[e("div",{staticClass:"item",attrs:{"data-cate":t.singerCateList.UAMan}},[t._v("欧美男歌手")]),t._v(" "),e("div",{staticClass:"item",attrs:{"data-cate":t.singerCateList.UAWoman}},[t._v("欧美女歌手")]),t._v(" "),e("div",{staticClass:"item",attrs:{"data-cate":t.singerCateList.UAGroup}},[t._v("欧美乐队/组合")])]),t._v(" "),e("div",{staticClass:"list",attrs:{role:"japan"}},[e("div",{staticClass:"item",attrs:{"data-cate":t.singerCateList.JapanMan}},[t._v("日本男歌手")]),t._v(" "),e("div",{staticClass:"item",attrs:{"data-cate":t.singerCateList.JapanWoman}},[t._v("日本女歌手")]),t._v(" "),e("div",{staticClass:"item",attrs:{"data-cate":t.singerCateList.JapanGroup}},[t._v("日本乐队/组合")])]),t._v(" "),e("div",{staticClass:"list",attrs:{role:"korean"}},[e("div",{staticClass:"item",attrs:{"data-cate":t.singerCateList.KoreanMan}},[t._v("韩国男歌手")]),t._v(" "),e("div",{staticClass:"item",attrs:{"data-cate":t.singerCateList.KoreanWoman}},[t._v("韩国女歌手")]),t._v(" "),e("div",{staticClass:"item",attrs:{"data-cate":t.singerCateList.KoreanGroup}},[t._v("韩国乐队/组合")])]),t._v(" "),e("div",{staticClass:"list",attrs:{role:"other"}},[e("div",{staticClass:"item",attrs:{"data-cate":t.singerCateList.OtherMan}},[t._v("其他男歌手")]),t._v(" "),e("div",{staticClass:"item",attrs:{"data-cate":t.singerCateList.OtherWoman}},[t._v("其他女歌手")]),t._v(" "),e("div",{staticClass:"item",attrs:{"data-cate":t.singerCateList.OtherGroup}},[t._v("其他乐队/组合")])])])])],1),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.showList,expression:"showList"}],staticClass:"singer-list"},[e("base-header",{attrs:{title:t.title+"-"+t.initial},on:{back:t.back}},[e("div",{staticClass:"filter-btn",on:{click:function(s){return s.stopPropagation(),t.showLayer(s)}}},[t._v("筛选")])]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.showFilterList,expression:"showFilterList"}],staticClass:"layer",on:{click:t.handleLayerClick}},[e("scroll",{ref:"filterListScroll",staticClass:"filter-list",nativeOn:{click:function(s){return s.stopPropagation(),t.handleFileterListClick(s)}}},[e("div",[e("h3",{staticClass:"title",on:{click:function(t){t.stopPropagation()}}},[t._v("请选择")]),t._v(" "),t._l(t.letterList,function(s,i){return e("div",{key:i,staticClass:"select-item",attrs:{"data-initial":s}},[t._v("\n            "+t._s(s)+"\n            "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.initial===s,expression:"initial === item"}],staticClass:"gou"},[t._v("√")])])})],2)])],1),t._v(" "),e("scroll",{ref:"scroll1",staticClass:"container",attrs:{pullup:!0},on:{scrollToEnd:t.getSingerList}},[e("div",[e("loading",{directives:[{name:"show",rawName:"v-show",value:t.showLoading,expression:"showLoading"}]}),t._v(" "),e("singer-list",{attrs:{list:t.singerData,showLoading:t.showPullUpLoading},on:{select:t.toSingerDetail}})],1)])],1)])},staticRenderFns:[]};var Zt=e("VU/8")(Wt,Xt,!1,function(t){e("PN9W")},"data-v-4aebdb3a",null).exports,ts=function(){function t(s){var e=s.id,i=s.name,n=s.picUrl,a=s.img1v1Url,r=s.briefDesc,o=s.hotSongs;U()(this,t),this.id=e,this.name=i,this.picUrl=n,this.img1v1Url=a,this.briefDesc=r,this.hotSongs=o}return E()(t,[{key:"getIntro",value:function(){var t=this;return this.introduction?it.a.resolve(this.introduction):new it.a(function(s,e){var i,n;(i=t.id,n=st+"/artist/desc",tt.a.get(n,{params:{id:i}}).then(function(t){if(t&&t.data)return it.a.resolve(t.data)})).then(function(e){e&&e.introduction&&(t.introduction=e.introduction,s(t.introduction))})})}}]),t}();function ss(t){return new ts({id:t.id,name:t.name,picUrl:t.picUrl,briefDesc:t.briefDesc,hotSongs:function(t){if(0===t.length)return null;var s=[];return t.forEach(function(t){s.push(rt(t))}),s}(t.hotSongs)})}var es={name:"SingerDetail",mixins:[ot],components:{BaseHeader:wt,Scroll:L},data:function(){return{fromPath:"",singer:{},currentTab:"",scrollY:0}},computed:{id:function(){return this.$route.params.id}},methods:{back:function(){this.fromPath||this.$router.back(),this.$router.push(this.fromPath)},handlePlaylist:function(){},getSinger:function(){var t,s,e=this;(t=this.id,s=st+"/artists",tt.a.get(s,{params:{id:t}}).then(function(t){if(t&&t.data)return it.a.resolve(t.data)})).then(function(t){if(t&&t.artist){var s=t.artist;s.hotSongs=t.hotSongs,e.singer=ss(s),e.singer.getIntro()}})}},mounted:function(){this.getSinger()},beforeRouteEnter:function(t,s,e){e(function(e){e.fromPath=s.fullPath,e.currentTab=t.name})},beforeRouteUpdate:function(t,s,e){this.currentTab=t.name,e()}},is={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("base-header",{attrs:{title:t.singer.name},on:{back:t.back}}),t._v(" "),e("div",{staticClass:"container"},[e("div",{staticClass:"img-wrapper"},[e("img",{staticClass:"img",attrs:{src:t.singer.picUrl}}),t._v(" "),e("div",{staticClass:"collect-btn"},[t._v("+ 收藏")])]),t._v(" "),e("div",{staticClass:"tab"},[e("router-link",{staticClass:"tab-item",class:{current:"HotSong"==t.currentTab},attrs:{tag:"div",to:{name:"HotSong"}}},[t._v("热门演唱")]),t._v(" "),e("router-link",{staticClass:"tab-item",class:{current:"Intro"==t.currentTab},attrs:{tag:"div",to:{name:"Intro"}}},[t._v("艺人信息")])],1),t._v(" "),e("router-view",{staticClass:"content",attrs:{singer:t.singer}})],1)],1)},staticRenderFns:[]};var ns=e("VU/8")(es,is,!1,function(t){e("yb5f")},"data-v-5dca4360",null).exports,as={name:"HotSong",props:{singer:{type:Object}},components:{SongList:W,Scroll:L}},rs={render:function(){var t=this.$createElement,s=this._self._c||t;return s("scroll",[s("song-list",{attrs:{list:this.singer.hotSongs}})],1)},staticRenderFns:[]};var os=e("VU/8")(as,rs,!1,function(t){e("J7BS")},"data-v-01390c20",null).exports,cs={name:"Intro",props:{singer:{type:Object}},components:{Scroll:L},mounted:function(){var t=this;setTimeout(function(){t.$refs.scroll.refresh()},20)}},ls={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("scroll",{ref:"scroll"},[e("div",[e("div",{staticClass:"brief"},[e("div",{staticClass:"title"},[t._v(t._s(t.singer.name)+"简介")]),t._v(" "),e("div",{staticClass:"txt"},[t._v(t._s(t.singer.briefDesc))])]),t._v(" "),t._l(t.singer.introduction,function(s,i){return e("div",{key:i,staticClass:"introduction"},[e("div",{staticClass:"title"},[t._v(t._s(s.ti))]),t._v(" "),e("div",{staticClass:"txt",domProps:{innerHTML:t._s(s.txt)}})])})],2)])},staticRenderFns:[]};var us=e("VU/8")(cs,ls,!1,function(t){e("1AR6")},"data-v-363cef58",null).exports,hs={name:"SearchSongs",components:{SongList:W,Scroll:L,Loading:V},data:function(){return{limit:20,offset:0,type:m,songList:[],showLoading:!0,showNoRes:!1}},computed:{keywords:function(){return this.$route.query.keywords}},methods:{getSearchByKey:function(){var t=this;pt({limit:this.limit,offset:this.offset,type:this.type,keywords:this.keywords}).then(function(s){if(s&&s.result&&s.result.songs){var e=[];s.result.songs.forEach(function(t){e.push(t.id)}),t.getSongsDetail(e)}else t.showLoading=!1,t.showNoRes=!0})},getSongsDetail:function(t){var s,e,i,n=this;(s=t,e=st+"/song/detail",i=[],s.length?(s.forEach(function(t){i.push(tt.a.get(e,{params:{ids:t}}))}),it.a.all(i).then(function(t){var s=null;return t&&(s=[],t.forEach(function(t){s.push(rt(t.data.songs[0]))})),it.a.resolve(s)})):it.a.resolve([])).then(function(t){n.showLoading=!1,t?n.songList=t:n.showNoRes=!0})}},mounted:function(){this.keywords&&this.getSearchByKey()},watch:{keywords:function(t){t&&(this.showLoading=!0,this.showNoRes=!1,this.songList=[],this.getSearchByKey())}}},ds={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("scroll",{staticClass:"container",attrs:{data:t.songList}},[e("div",[e("loading",{directives:[{name:"show",rawName:"v-show",value:t.showLoading,expression:"showLoading"}]}),t._v(" "),e("song-list",{directives:[{name:"show",rawName:"v-show",value:!t.showLoading,expression:"!showLoading"}],attrs:{list:t.songList}}),t._v(" "),e("p",{directives:[{name:"show",rawName:"v-show",value:t.showNoRes,expression:"showNoRes"}],staticClass:"no-result"},[t._v("无搜索结果")])],1)])],1)},staticRenderFns:[]};var vs=e("VU/8")(hs,ds,!1,function(t){e("fyr/")},"data-v-26f38726",null).exports,fs={name:"SearchSingers",components:{SingerList:qt,Loading:V},data:function(){return{singerList:[],limit:20,offset:0,type:p,showLoading:!0,showNoRes:!1,showPullUpLoading:!0}},computed:{keywords:function(){return this.$route.query.keywords}},methods:{getSearchByKey:function(){var t=this;pt({limit:this.limit,type:this.type,offset:this.offset,keywords:this.keywords}).then(function(s){t.showLoading=!1,s&&s.result&&s.result.artists?t.singerList=s.result.artists:(t.showNoRes=!0,t.showPullUpLoading=!1)})}},mounted:function(){this.getSearchByKey()},watch:{keywords:function(t){t&&(this.showLoading=!0,this.showNoRes=!1,this.singerList=[],this.getSearchByKey())}}},ms={render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",[s("loading",{directives:[{name:"show",rawName:"v-show",value:this.showLoading,expression:"showLoading"}]}),this._v(" "),s("singer-list",{attrs:{list:this.singerList,showLoading:this.showPullUpLoading}}),this._v(" "),s("p",{directives:[{name:"show",rawName:"v-show",value:this.showNoRes,expression:"showNoRes"}],staticClass:"no-result"},[this._v("无搜索结果")])],1)},staticRenderFns:[]};var ps=e("VU/8")(fs,ms,!1,function(t){e("H8sA")},"data-v-fc7fb828",null).exports,gs={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{},[this._v("\n  搜索歌单\n")])},staticRenderFns:[]};var As=e("VU/8")({name:"SearchAlbums"},gs,!1,function(t){e("gyJf")},"data-v-87a8704e",null).exports;a.a.use(K.a);var _s=new K.a({routes:[{path:"/",name:"Home",redirect:"/recommend",component:O,children:[{path:"/recommend",name:"Recommend",component:ut},{path:"/mv",name:"MusicVideo",component:dt},{path:"/user",name:"User",component:ft}]},{path:"/rank",name:"Rank",component:Et},{path:"/music-list",name:"MusicList",component:Mt},{path:"/music-list-detail/:id",name:"MusicListDetail",component:Kt},{path:"/singer",name:"Singer",component:zt},{path:"/singercate",name:"SingerCate",component:Zt},{path:"/singer-detail/:id",name:"SingerDetail",component:ns,redirect:"/singer-detail/:id/hotsongs",children:[{path:"hotsongs",name:"HotSong",component:os},{path:"intro",name:"Intro",component:us}]},{path:"/fm",name:"FM",component:Qt},{path:"/search",name:"Search",component:_t,children:[{path:""+m,params:{type:m},name:"SearchSongs",component:vs},{path:""+p,name:"SearchSingers",params:{type:m},component:ps},{path:""+g,name:"SearchMusicLists",params:{type:m},component:As}]},{path:"/comment/:type/:id",name:Gt,component:Gt}]}),Cs={playing:!1,fullScreen:!1,playlist:[],sequenceList:[],mode:d,currentIndex:-1,showSearchRes:!!sessionStorage.show_search_res};var ys,ws=function(t,s){var e=t.commit,i=t.state,n=s.list,a=s.index;if(e("SET_SEQUENCE_LIST",n),i.mode===f){var r=C(n);e("SET_PLAYLIST",r),a=function(t,s){return t.findIndex(function(t){return t.id===s.id})}(r,n[a])}else e("SET_PLAYLIST",n);e("SET_CURRENT_INDEX",a),e("SET_FULL_SCREEN",!0),e("SET_PLAYING_STATE",!0)},ks=function(t,s){var e=t.commit,i=s.list;e("SET_PLAY_MODE",f),e("SET_SEQUENCE_LIST",i),e("SET_PLAYLIST",C(i)),e("SET_CURRENT_INDEX",0),e("SET_FULL_SCREEN",!0),e("SET_PLAYING_STATE",!0)},Ls=function(t){return t.playing},Ss=function(t){return t.fullScreen},Us=function(t){return t.playlist},bs=function(t){return t.sequenceList},Es=function(t){return t.mode},xs=function(t){return t.currentIndex},Rs=function(t){return t.playlist[t.currentIndex]||{}},Ts=function(t){return t.showSearchRes},Bs=e("bOdI"),Ms=e.n(Bs),Ds=(ys={},Ms()(ys,"SET_PLAYING_STATE",function(t,s){t.playing=s}),Ms()(ys,"SET_FULL_SCREEN",function(t,s){t.fullScreen=s}),Ms()(ys,"SET_PLAYLIST",function(t,s){t.playlist=s}),Ms()(ys,"SET_SEQUENCE_LIST",function(t,s){t.sequenceList=s}),Ms()(ys,"SET_PLAY_MODE",function(t,s){t.mode=s}),Ms()(ys,"SET_CURRENT_INDEX",function(t,s){t.currentIndex=s}),Ms()(ys,"SET_SHOW_SEARCH_RES",function(t,s){t.showSearchRes=s,sessionStorage.show_search_res=s}),ys);e("sax8");a.a.use(c.a);var Ns=new c.a.Store({state:Cs,actions:i,getters:n,mutations:Ds,strict:!1,plugins:[]}),$s=(e("sVYa"),e("bkxe"),e("v5o6")),Ps=e.n($s),Is=e("cTzj"),Ks=e.n(Is);a.a.config.productionTip=!1,Ps.a.attach(document.body),a.a.use(Ks.a,{loading:e("tewn")}),new a.a({el:"#app",router:_s,store:Ns,components:{App:I},template:"<App/>"})},NyiC:function(t,s){},OpNG:function(t,s){},PN9W:function(t,s){},PsNh:function(t,s){},QEwt:function(t,s){},QnvM:function(t,s){},WVww:function(t,s,e){t.exports=e.p+"static/img/loading.084b79b.gif"},bkxe:function(t,s){},c4yL:function(t,s){},f2Wr:function(t,s){},fKlw:function(t,s){},fliD:function(t,s){},"fyr/":function(t,s){},gB8C:function(t,s){},gyJf:function(t,s){},ixPI:function(t,s){},j4B2:function(t,s){},nBTL:function(t,s){},tMoZ:function(t,s){},tewn:function(t,s){t.exports="data:image/jpeg;base64,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"},uL8J:function(t,s){},v2ns:function(t,s){},"y1/c":function(t,s){},yb5f:function(t,s){}},["NHnr"]);
//# sourceMappingURL=app.abb83982b22b5afad4d1.js.map